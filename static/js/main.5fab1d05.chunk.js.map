{"version":3,"sources":["components/UI/MyModal/MyModal.module.css","components/UI/MyButton/MyButton.module.css","components/UI/Loader/Loader.module.css","components/UI/MyInput/MyInput.module.css","components/UI/MyButton/MyButton.jsx","context/context.js","components/UI/Navbar/Navbar.jsx","Pages/About.jsx","hooks/useFetching.js","API/PostService.js","components/UI/Loader/Loader.jsx","Pages/PostIdPage.jsx","utils/pages.js","hooks/usePosts.js","components/UI/MyInput/MyInput.jsx","components/UI/MySelect.jsx","components/PostFilter.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/Pagination/Pagination.jsx","hooks/usePagination.js","components/PostForm.jsx","components/UI/MyModal/MyModal.jsx","components/CountPost.jsx","Pages/Posts.jsx","router/routes.js","hooks/useObserver.js","components/Login.jsx","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","MyButton","children","props","className","cl","myBtn","AuthContext","createContext","Navbar","useContext","isAuth","setIsAuth","to","onClick","localStorage","removeItem","About","useFetching","callback","useState","isLoading","setIsLoading","error","setError","a","message","PostService","limit","page","axios","get","params","_limit","_page","response","id","Loader","loader","PostIdPage","useParams","post","setPost","comments","setComments","getById","data","fetchingPostById","getComments","fetchingComments","isCommentsLoading","useEffect","title","map","comm","style","marginTop","email","body","getPagesCount","totalPages","Math","ceil","usePosts","posts","sort","query","sortedPosts","useMemo","b","localeCompare","useSortedPosts","filter","p","toLowerCase","includes","MyInput","myInput","MySelect","options","defaultValue","value","onChange","margin","e","target","disabled","opt","name","PostFilter","setFilter","placeholder","selectedSort","PostItem","removePost","router","useHistory","push","PostList","length","textAlign","timeout","classNames","Pagination","changePage","pagesArray","totalCountPages","resultArray","i","usePagination","PostForm","createPost","type","preventDefault","newPost","Date","now","MyModal","visible","setVisible","rootClass","myModal","active","join","myModalContent","event","stopPropagation","CountPost","setLimit","Posts","privateRoutes","path","component","setPosts","modal","setModal","setPage","setTotalCountPages","getAll","totalCountPosts","headers","fetchPosts","isPostsLoad","postsError","lastElement","useRef","ref","canLoad","observer","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","sortedAndSearchedPosts","color","exact","publicRoutes","onSubmit","setItem","AppRouter","route","App","getItem","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5fab1d05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__3yzYP\",\"myModalContent\":\"MyModal_myModalContent__O-Ul5\",\"active\":\"MyModal_active__36QyW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myBtn\":\"MyButton_myBtn__127E9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3OeBp\",\"rotate\":\"Loader_rotate__1kcgR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"MyInput_myInput__3xRQG\"};","import React from 'react'\r\nimport cl from './MyButton.module.css'\r\n\r\nconst MyButton = ({children, ...props}) => {\r\n  return (\r\n    <button {...props} className={cl.myBtn}>\r\n      {children}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default MyButton","import {createContext} from 'react'\r\n\r\nexport const AuthContext = createContext(null)","import React, {useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport MyButton from '../MyButton/MyButton'\r\nimport {AuthContext} from '../../../context/context'\r\n\r\nconst Navbar = () => {\r\n\r\n  const {isAuth, setIsAuth} = useContext(AuthContext)\r\n\r\n  const logout = () => {\r\n    setIsAuth(false)\r\n    localStorage.removeItem('auth')\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"navbar__container\">\r\n        <div className=\"navbar__links\">\r\n          <Link to=\"/posts\">Posts</Link>\r\n          <Link to=\"/about\">About</Link>\r\n        </div>\r\n        { isAuth && <MyButton onClick={logout}>Log out</MyButton> }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className='App'>\r\n      This app was developed by Graywa\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default About","import {useState} from 'react'\r\n\r\nexport const useFetching = (callback) => {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const fetching = async (...args) => {\r\n    try {\r\n      setIsLoading(true)\r\n      await callback(...args)\r\n    } catch(e) {\r\n      setError(e.message)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  return [fetching, isLoading, error]\r\n}","import axios from 'axios'\r\n\r\nexport default class PostService {\r\n  static async getAll(limit = 10, page = 1) {\r\n    const response = await axios.get('https://jsonplaceholder.typicode.com/posts',\r\n      {\r\n        params: {\r\n          _limit: limit,\r\n          _page: page\r\n        }\r\n      })\r\n    return response\r\n  }\r\n\r\n  static async getById(id) {\r\n    const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id)\r\n    return response\r\n  }\r\n\r\n  static async getComments(id) {\r\n    const response = await axios.get(`https://jsonplaceholder.typicode.com/posts/${id}/comments`)\r\n    return response\r\n  }\r\n}\r\n\r\n","import React from 'react'\r\nimport cl from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={cl.loader}>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader","import React, {useEffect, useState} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport {useFetching} from '../hooks/useFetching'\r\nimport PostService from '../API/PostService'\r\nimport Loader from '../components/UI/Loader/Loader'\r\n\r\nconst PostIdPage = () => {\r\n  const params = useParams()\r\n\r\n  const [post, setPost] = useState({})\r\n  const [comments, setComments] = useState([])\r\n  const [fetchingPostById, isLoading, error] = useFetching(async(id) => {\r\n    const response = await PostService.getById(id)\r\n    setPost(response.data)\r\n  })\r\n  const [fetchingComments, isCommentsLoading, commError] = useFetching(async(id) => {\r\n    const response = await PostService.getComments(id)\r\n    setComments(response.data)\r\n  })\r\n\r\n  useEffect(() => {\r\n    fetchingPostById(params.id)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    fetchingComments(params.id)\r\n  }, [])\r\n\r\n  return (\r\n    <div className='App'>\r\n      <h1>Page of user with ID = {params.id}</h1>\r\n      {\r\n      isLoading\r\n        ? <Loader/>\r\n        : <div>{post.id} {post.title}</div>\r\n      }\r\n      <h1>Comments</h1>      \r\n      {\r\n        isCommentsLoading\r\n        ? <Loader/>\r\n        : <div>\r\n          {comments.map(comm => {\r\n            return (\r\n              <div key={comm.id} style={{marginTop: '15px'}}>\r\n                <h4>{comm.email}</h4>\r\n                <div>{comm.body}</div>\r\n              </div>              \r\n            )            \r\n          })}\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostIdPage","export const getPagesCount = (totalPages, limit) => {\r\n  return Math.ceil(totalPages / limit)\r\n}","import {useMemo} from 'react'\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n  const sortedPosts = useMemo(() => {\r\n    if(sort) return [...posts].sort( (a,b) => a[sort].localeCompare(b[sort]))\r\n    return posts\r\n  }, [posts, sort])\r\n\r\n  return sortedPosts\r\n}\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n\r\n  const sortedPosts = useSortedPosts(posts, sort)\r\n\r\n  const sortedAndSearchedPosts = useMemo(() => {\r\n    return sortedPosts.filter(p => p.title.toLowerCase().includes(query))\r\n  }, [query, sortedPosts])\r\n\r\n  return sortedAndSearchedPosts\r\n}","import React from 'react'\r\nimport cl from './MyInput.module.css'\r\n\r\nconst MyInput = (props) => {\r\n  return (\r\n    <input className={cl.myInput} {...props} />\r\n  )\r\n}\r\n\r\nexport default MyInput","import React from 'react'\r\n\r\nconst MySelect = ({options, defaultValue, value, onChange}) => {\r\n\r\n  return (\r\n    <div style={{margin: '10px 0'}}>\r\n      <select value={value} onChange={(e) => onChange(e.target.value)}>\r\n        <option disabled value=\"\">{defaultValue}</option>\r\n        {options.map(opt => {\r\n          return (\r\n            <option key={opt.value} value={opt.value}>\r\n              {opt.name}\r\n            </option>\r\n          )\r\n        })}\r\n      </select>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default MySelect","import React, {useMemo} from 'react'\r\nimport MyInput from './UI/MyInput/MyInput'\r\nimport MySelect from './UI/MySelect'\r\n\r\nconst PostFilter = ({filter, setFilter}) => {\r\n\r\n  return (\r\n    <div>\r\n      <MyInput\r\n        placeholder='Search'\r\n        value={filter.query}\r\n        onChange={e => setFilter({...filter, query: e.target.value})}\r\n      />\r\n      <MySelect\r\n        value={filter.sort}\r\n        onChange={selectedSort => setFilter({...filter, sort: selectedSort})}\r\n        defaultValue='sort by'\r\n        options={[\r\n          {value: 'title', name: 'title'},\r\n          {value: 'body', name: 'description'},\r\n        ]}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostFilter","import React from 'react'\r\nimport MyButton from './UI/MyButton/MyButton'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst PostItem = ({removePost, post}) => {\r\n  const router = useHistory()\r\n  return (\r\n      <div className=\"post\">\r\n        <div className=\"post__content\">\r\n          <strong>{post.id}. {post.title}</strong>\r\n          <div style={{margin: '10px 15px 0 0'}}>{post.body}</div>\r\n        </div>\r\n        <div className=\"post__btns\">\r\n          <MyButton onClick={() => router.push(`/posts/${post.id}`)}>Open</MyButton>\r\n          <MyButton onClick={() => removePost(post)}>Delete</MyButton>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default PostItem","import React from 'react'\r\nimport PostItem from './PostItem'\r\nimport TransitionGroup from 'react-transition-group/cjs/TransitionGroup'\r\nimport CSSTransition from 'react-transition-group/cjs/CSSTransition'\r\n\r\nconst PostList = ({posts, title, removePost}) => {\r\n  if (!posts.length) {\r\n    return <h1 style={{textAlign: 'center'}}>Posts not found</h1>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1 style={{textAlign: 'center'}}>{title}</h1>\r\n      <TransitionGroup className=\"todo-list\">\r\n        {posts.map((post) => {\r\n          return (\r\n            <CSSTransition\r\n              key={post.id}\r\n              timeout={200}\r\n              classNames=\"post\"\r\n            >\r\n              <PostItem removePost={removePost}  post={post}/>\r\n            </CSSTransition>\r\n          )\r\n        })}\r\n      </TransitionGroup>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PostList","import React from 'react'\r\nimport {usePagination} from '../../../hooks/usePagination'\r\n\r\nconst Pagination = ({changePage, page, totalCountPages}) => {\r\n\r\n  const pagesArray = usePagination(totalCountPages)\r\n\r\n  return (\r\n    <div className=\"page__wrapper\">\r\n      {pagesArray.map(p => {\r\n        return <span\r\n          className={p === page ? 'page page-current': 'page'}\r\n          key={p}\r\n          onClick={() => changePage(p)}>\r\n            {p}\r\n          </span>\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pagination","import {useMemo} from 'react'\r\n\r\nexport const usePagination = (totalCountPages) => {\r\n   const pagesArray = useMemo(() => {\r\n    const resultArray = []\r\n    for (let i = 0; i < totalCountPages; i++ ) {\r\n      resultArray.push(i + 1)\r\n    }\r\n    return resultArray\r\n  }, [totalCountPages])\r\n\r\n  return pagesArray\r\n}","import React, {useState} from 'react'\r\nimport MyInput from './UI/MyInput/MyInput'\r\nimport MyButton from './UI/MyButton/MyButton'\r\n\r\nconst PostForm = ({createPost}) => {\r\n\r\n  const [post, setPost] = useState({title: '', body: ''})\r\n\r\n  const addTitle = (e) => {\r\n    setPost({...post, title: e.target.value})\r\n  }\r\n\r\n  const addDescription = (e) => {\r\n    setPost({...post, body: e.target.value})\r\n  }\r\n\r\n  const addNewPost = (e) => {\r\n    e.preventDefault()\r\n    const newPost = {id: Date.now(), ...post}\r\n    createPost(newPost)\r\n    setPost({title: '', body: ''})\r\n  }\r\n\r\n  return (\r\n    <form>\r\n      <MyInput value={post.title} onChange={addTitle} type=\"text\" placeholder='Title of post'/>\r\n      <MyInput value={post.body} onChange={addDescription} type=\"text\" placeholder='Description of post'/>\r\n      <MyButton onClick={addNewPost}>Create post</MyButton>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PostForm","import React from 'react'\r\nimport cl from './MyModal.module.css'\r\n\r\nconst MyModal = ({children, visible, setVisible}) => {\r\n\r\n  const rootClass = [cl.myModal]\r\n\r\n  if(visible) rootClass.push(cl.active)\r\n\r\n  return (\r\n    <div className={rootClass.join(' ')} onClick={() => setVisible(false)}>\r\n      <div className={cl.myModalContent} onClick={event => event.stopPropagation()}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyModal","import React from 'react'\r\nimport MySelect from './UI/MySelect'\r\n\r\nconst CountPost = ({limit, setLimit}) => {\r\n  return (\r\n    <MySelect\r\n      value={limit}\r\n      onChange={value => setLimit(value)}\r\n      defaultValue='Show on page'\r\n      options={[\r\n        {value: 5, name: '5'},\r\n        {value: 10, name: '10'},\r\n        {value: 15, name: '15'},\r\n        {value: -1, name: 'all posts'}\r\n      ]}\r\n    />\r\n  )\r\n}\r\n\r\nexport default CountPost","import React, {useEffect, useMemo, useRef, useState} from 'react'\r\nimport '../styles/App.css'\r\nimport {getPagesCount} from '../utils/pages'\r\nimport PostService from '../API/PostService'\r\nimport {useFetching} from '../hooks/useFetching'\r\nimport {usePosts} from '../hooks/usePosts'\r\nimport PostFilter from '../components/PostFilter'\r\nimport Loader from '../components/UI/Loader/Loader'\r\nimport PostList from '../components/PostList'\r\nimport Pagination from '../components/UI/Pagination/Pagination'\r\nimport PostForm from '../components/PostForm'\r\nimport MyButton from '../components/UI/MyButton/MyButton'\r\nimport MyModal from '../components/UI/MyModal/MyModal'\r\nimport {useObserver} from '../hooks/useObserver'\r\nimport CountPost from '../components/CountPost'\r\n\r\nfunction Posts() {\r\n\r\n  const [posts, setPosts] = useState([])\r\n  const [filter, setFilter] = useState({sort: '', query: ''})\r\n  const [modal, setModal] = useState(false)\r\n  const [limit, setLimit] = useState(10)\r\n  const [page, setPage] = useState(1)\r\n  const [totalCountPages, setTotalCountPages] = useState(0)\r\n  const [fetchPosts, isPostsLoad, postsError] = useFetching(async() => {\r\n    const response = await PostService.getAll(limit, page)\r\n    setPosts([...posts, ...response.data])\r\n    const totalCountPosts = response.headers['x-total-count']\r\n    setTotalCountPages(getPagesCount(totalCountPosts, limit))\r\n  })\r\n  const lastElement = useRef()\r\n\r\n  useObserver(lastElement, page < totalCountPages, isPostsLoad, () => {\r\n    setPage(page + 1)\r\n  })\r\n\r\n  useEffect(() => {\r\n    fetchPosts()\r\n  }, [page, limit])\r\n\r\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query)\r\n\r\n  const changePage = (page) => {\r\n    setPage(page)\r\n  }\r\n\r\n  const createPost = (newPost) => {\r\n    setPosts([...posts, newPost])\r\n    setModal(false)\r\n  }\r\n\r\n  const removePost = (post) => {\r\n    setPosts(posts.filter(p => p.id !== post.id))\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <MyButton onClick={() => setModal(true)}>Create post</MyButton>\r\n      <MyModal visible={modal} setVisible={setModal}><PostForm createPost={createPost}/></MyModal>\r\n      <hr style={{margin: '20px 0'}}/>\r\n      <PostFilter filter={filter} setFilter={setFilter} />\r\n      <CountPost limit={limit} setLimit={setLimit}/>\r\n      <hr style={{margin: '20px 0'}}/>\r\n      {postsError && <h3 style={{color: 'darkred'}}>downloding error: {postsError}</h3>}\r\n      {isPostsLoad && <div><Loader /></div>}\r\n      <PostList removePost={removePost} posts={sortedAndSearchedPosts} title='- List of posts 1 -' />\r\n      <div ref={lastElement}></div>\r\n      <Pagination page={page} changePage={changePage} totalCountPages={totalCountPages}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Posts\r\n\r\n\r\n\r\n","import About from '../Pages/About'\r\nimport PostIdPage from '../Pages/PostIdPage'\r\nimport Posts from '../Pages/Posts'\r\nimport Login from '../components/Login'\r\n\r\nexport const privateRoutes = [\r\n  {path: '/posts', component: Posts, exact: true},\r\n  {path: '/about', component: About, exact: true},\r\n  {path: '/posts/:id', component: PostIdPage, exact: true},\r\n]\r\n\r\nexport const publicRoutes = [\r\n  {path: '/login', component: Login, exact: true},\r\n]","import {useEffect, useRef} from 'react'\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\r\n  const observer = useRef()\r\n\r\n  useEffect(() => {\r\n    if(isLoading) return\r\n    if(observer.current) observer.current.disconnect()\r\n    let cb = function(entries, observer) {\r\n      if(entries[0].isIntersecting && canLoad) callback()\r\n    }\r\n    observer.current = new IntersectionObserver(cb)\r\n    observer.current.observe(ref.current)\r\n  }, [isLoading])\r\n}","import React, {useContext} from 'react'\r\nimport MyInput from './UI/MyInput/MyInput'\r\nimport MyButton from './UI/MyButton/MyButton'\r\nimport {AuthContext} from '../context/context'\r\n\r\nconst Login = () => {\r\n\r\n  const {setIsAuth} = useContext(AuthContext)\r\n\r\n  const login = (e) => {\r\n    e.preventDefault()\r\n    setIsAuth(true)\r\n    localStorage.setItem('auth', 'true')\r\n  }\r\n\r\n  return (\r\n    <div className='App'>\r\n      <h2>Login</h2>\r\n      <form onSubmit={login}>\r\n        <MyInput type='text' placeholder='name'></MyInput>\r\n        <MyInput type='password' placeholder='password'></MyInput>\r\n        <MyButton>Log in</MyButton>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React, {useContext} from 'react'\r\nimport {Redirect, Route, Switch} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from '../router/routes'\r\nimport {AuthContext} from '../context/context'\r\nimport Loader from './UI/Loader/Loader'\r\n\r\nconst AppRouter = () => {\r\n\r\n  const {isAuth, isLoading} = useContext(AuthContext)\r\n\r\n  if(isLoading) return <Loader/>\r\n\r\n  return (\r\n    isAuth\r\n      ? <Switch>\r\n        {privateRoutes.map(route => {\r\n          return <Route\r\n            key={route.component}\r\n            path={route.path}\r\n            component={route.component}\r\n            exact={route.exact}/>\r\n        })}\r\n        <Redirect to='/posts'/>\r\n      </Switch>\r\n      : <Switch>\r\n        {publicRoutes.map(route => {\r\n          return <Route\r\n            key={route.component}\r\n            path={route.path}\r\n            component={route.component}\r\n            exact={route.exact}/>\r\n        })}\r\n        <Redirect to='/login'/>\r\n      </Switch>\r\n  )\r\n}\r\n\r\nexport default AppRouter","import {BrowserRouter} from 'react-router-dom'\nimport Navbar from './components/UI/Navbar/Navbar'\nimport AppRouter from './components/AppRouter'\nimport {AuthContext} from './context/context'\nimport {useEffect, useState} from 'react'\n\nfunction App() {\n\n  const [isAuth, setIsAuth] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    if(localStorage.getItem('auth')) setIsAuth(true)\n    setIsLoading(false)\n  }, [])\n\n  return (\n    <AuthContext.Provider value={{\n      isAuth,\n      setIsAuth,\n      isLoading\n    }}>\n      <BrowserRouter>\n        <Navbar/>\n        <AppRouter/>\n      </BrowserRouter>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App\n\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}